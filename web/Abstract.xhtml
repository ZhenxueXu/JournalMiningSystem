<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" type="text/css" href="css/abstract.css"/>
        <script type="text/javascript">
            window.onload = function () {
            #{journalAbstract.setAllData()};
            }
        </script>
    </h:head>
    <h:body onload="journalAbstract.setAllData();">
        <div class="main">
            <div class="row">
                <div class="row_left">
                    <h:outputText  class="title" value="期刊："/>
                    <h:outputLabel  class="zhi" value="#{journalAbstract.JName}"/>
                </div>
                <div class="row_center">
                    <h:outputText class="title" value="数据年份："/>
                    <h:outputLabel class="zhi" value="#{journalAbstract.years}"/>
                </div>
                <div class="row_right">
                    <h:outputText class="title" value="论文数量："/>
                    <h:outputLabel class="zhi" value="#{journalAbstract.paperCount}"/>
                </div>
            </div> 
            <div class="row">
                <div class="row_left">
                    <h:outputText class="title" value="总引文数量："/>
                    <h:outputLabel class="zhi" value="#{journalAbstract.refCount}"/>
                </div>
                <div class="row_center">
                    <h:outputText class="title" value="总被引次数："/>
                    <h:outputLabel class="zhi" value="#{journalAbstract.refTimes}"/>
                </div>
                <div class="row_right">
                    <h:outputText class="title" value="平均每篇被引次数："/>
                    <h:outputLabel class="zhi" value="#{journalAbstract.aveRefTimes}"/>
                </div>
            </div> 
        </div>
        <div id="tabel">
            <h:form id="form_style" style=" width: 100%; height: 100%">
                <p:dataTable id="alldata" var="tabledata" value="#{informationShow.tableData}"
                             rows="10" paginator="true" paginatorPosition="bottom"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,15"  widgetVar="stable"
                             emptyMessage="未找到相关信息" filteredValue="#{informationShow.tableData}">


                    <f:facet name="header">
                        <p:outputPanel>
                            <h:outputText value="Search all fields:" />
                            <p:inputText id="globalFilter" onchange="PF('stable').filter()"  style="width:150px" placeholder="Enter keyword"/>
                        </p:outputPanel>
                    </f:facet>
                    <p:column  headerText="ID" style=" width: 25px; text-align:  center ">
                        <h:outputText  value="#{tabledata.get('id')}" />
                    </p:column>
                    <p:column style=" width: 100px; " headerText="作者" filterBy="#{tabledata.get('authors')}" sortBy="#{tabledata.get('authors')}" filterMatchMode="contains" >
                        <h:outputText  value="#{tabledata.get('authors')}" />
                    </p:column>
                    <p:column id="t3" headerText="标题" filterBy="#{tabledata.get('title')}" sortBy="#{tabledata.get('title')}" filterMatchMode="startsWith">
                        <h:outputText value="#{tabledata.get('title')}" />
                    </p:column>
                    <p:column id="t4" headerText="年份" sortBy="#{tabledata.get('year')}" filterMatchMode="startsWith">
                        <h:outputText value="#{tabledata.get('year')}" />
                    </p:column>
                    <p:column id="t5" headerText="页数">
                        <h:outputText value="#{tabledata.get('pages')}" />
                    </p:column>
                    <p:column id="t6" headerText="他引次数" sortBy="#{tabledata.get('others')}" filterMatchMode="startsWith">
                        <h:outputText value="#{tabledata.get('others')}" />
                    </p:column>
                    <p:column id="t7" headerText="被引次数" sortBy="#{tabledata.get('times')}" filterMatchMode="startsWith">
                        <h:outputText value="#{tabledata.get('times')}" />
                    </p:column>
                    <p:column id="t8" headerText="关键词" filterBy="#{tabledata.get('keywords')}" sortBy="#{tabledata.get('keywords')}" filterMatchMode="startsWith">
                        <h:outputText value="#{tabledata.get('keywords')}" />
                    </p:column>
                    <p:column id="t9" headerText="摘要">
                        <h:outputText value="#{tabledata.get('abstract')}" />
                    </p:column>
                    <p:column id="t10" headerText="基金" filterBy="#{tabledata.get('funds')}" sortBy="#{tabledata.get('funds')}" filterMatchMode="startsWith">
                        <h:outputText value="#{tabledata.get('funds')}" />
                    </p:column>
                    <p:column id="t11" headerText="地址" filterBy="#{tabledata.get('address')}" sortBy="#{tabledata.get('address')}" filterMatchMode="startsWith">
                        <h:outputText value="#{tabledata.get('address')}" />
                    </p:column>
                </p:dataTable>
                <h:commandButton value="Export as Excel">
                                 <p:dataExporter type="xls" target="alldata" fileName="cars"/>
                </h:commandButton>


                <h:commandLink>
                    <p:graphicImage name="/../images/table.png" width="24"/>
                    <p:dataExporter type="xls" target="alldata" fileName="cars" />
                </h:commandLink>

                <h:commandLink>
                    <p:graphicImage name="../images/table.png" width="24"/>
                    <p:dataExporter type="pdf" target="alldata" fileName="cars"/>
                </h:commandLink>

                <h:commandLink>
                    <p:graphicImage name="../images/table.png" width="24"/>
                    <p:dataExporter type="csv" target="alldata" fileName="cars" />
                </h:commandLink>

                <h:commandLink>
                    <p:graphicImage name="../images/table.png" width="24"/>
                    <p:dataExporter type="xml" target="alldata" fileName="cars" />
                </h:commandLink>
            </h:form>

        </div>
        <script>
        </script>

    </h:body>
</html>
